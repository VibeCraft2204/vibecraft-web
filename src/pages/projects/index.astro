---
import { getCollection } from 'astro:content';

const allProjects = await getCollection('projects');

// ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í™”
const consultingProjects = allProjects.filter(p => p.data.category === 'consulting');
const developmentProjects = allProjects.filter(p => p.data.category === 'development');

// ì¹´í…Œê³ ë¦¬ ë¼ë²¨
const categoryLabels = {
  consulting: 'ì»¨ì„¤íŒ…',
  development: 'ê°œë°œ ì™¸ì£¼'
};

const subcategoryLabels = {
  'digital-transform': 'ë””ì§€í„¸ ì „í™˜',
  'ai-marketing': 'AI ë§ˆì¼€íŒ…',
  'vibe-refactor': 'ë°”ì´ë¸Œì½”ë”©',
  'outsourcing': 'ì¼ë°˜ ì™¸ì£¼'
};
---

<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í”„ë¡œì íŠ¸ | VibeCraft</title>
  <meta name="description" content="VibeCraftì˜ í”„ë¡œì íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤. ì†Œìƒê³µì¸ ì»¨ì„¤íŒ…ë¶€í„° ê°œë°œ ì™¸ì£¼ê¹Œì§€ ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" />
</head>
<body>
  <header class="header" id="header">
    <div class="container">
      <div class="header-inner">
        <a href="/vibecraft-web/" class="logo"><div class="logo-icon">V</div><span>VibeCraft</span></a>
        <nav class="nav-desktop">
          <a href="/vibecraft-web/" class="nav-link">í™ˆ</a>
          <a href="/vibecraft-web/#services" class="nav-link">ì„œë¹„ìŠ¤</a>
          <a href="/vibecraft-web/projects" class="nav-link active">í”„ë¡œì íŠ¸</a>
          <a href="/vibecraft-web/#contact" class="nav-link">ì†Œê°œ</a>
        </nav>
        <div class="header-actions">
          <a href="https://docs.google.com/forms/d/e/1FAIpQLScPYEgY-bhxM31JWZsoHIaNdFGE-Dy3HJjn41500A0O7IeeOQ/viewform" target="_blank" rel="noopener" class="btn-contact">ìƒë‹´ ì‹ ì²­ â†’</a>
          <button class="menu-toggle" aria-label="ë©”ë‰´ ì—´ê¸°">â˜°</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="projects-hero">
      <div class="container">
        <h1 class="page-title">í”„ë¡œì íŠ¸</h1>
        <p class="page-subtitle">VibeCraftì™€ í•¨ê»˜ ì„±ì¥í•œ ê³ ê°ì‚¬ë“¤ì˜ ì´ì•¼ê¸°</p>
      </div>
    </section>

    <section class="projects-filter">
      <div class="container">
        <div class="filter-tabs" id="filter-tabs">
          <button class="filter-tab active" data-filter="all">ì „ì²´</button>
          <button class="filter-tab" data-filter="consulting">ì»¨ì„¤íŒ…</button>
          <button class="filter-tab" data-filter="development">ê°œë°œ ì™¸ì£¼</button>
        </div>
      </div>
    </section>

    <section class="projects-list">
      <div class="container">
        <!-- ì»¨ì„¤íŒ… ì„¹ì…˜ -->
        <div class="category-section" data-category="consulting">
          <h2 class="category-title">
            <span class="category-icon">ğŸ’¼</span>
            ì»¨ì„¤íŒ… í”„ë¡œì íŠ¸
          </h2>
          <div class="projects-grid">
            {consultingProjects.map((project) => (
              <a href={`/vibecraft-web/projects/${project.id.replace(/^(consulting|development)\//, '').replace(/\.md$/, '')}`} class="project-card">
                <div class="project-header">
                  <span class="project-badge">{subcategoryLabels[project.data.subcategory]}</span>
                  <span class="project-status" data-status={project.data.status}>
                    {project.data.status === 'completed' ? 'ì™„ë£Œ' : project.data.status === 'in-progress' ? 'ì§„í–‰ì¤‘' : 'ì˜ˆì •'}
                  </span>
                </div>
                <h3 class="project-title">{project.data.title}</h3>
                <p class="project-client">{project.data.client}</p>
                <p class="project-summary">{project.data.summary}</p>
                <div class="project-meta">
                  <span class="project-period">{project.data.period}</span>
                </div>
                {project.data.metrics && project.data.metrics.length > 0 && (
                  <div class="project-metrics">
                    {project.data.metrics.slice(0, 2).map((metric) => (
                      <div class="metric">
                        <span class="metric-value">{metric.value}</span>
                        <span class="metric-label">{metric.label}</span>
                      </div>
                    ))}
                  </div>
                )}
                <div class="project-tags">
                  {project.data.tags.slice(0, 3).map((tag) => (
                    <span class="project-tag">{tag}</span>
                  ))}
                </div>
              </a>
            ))}
          </div>
        </div>

        <!-- ê°œë°œ ì™¸ì£¼ ì„¹ì…˜ -->
        <div class="category-section" data-category="development">
          <h2 class="category-title">
            <span class="category-icon">ğŸ’»</span>
            ê°œë°œ ì™¸ì£¼ í”„ë¡œì íŠ¸
          </h2>
          <div class="projects-grid">
            {developmentProjects.map((project) => (
              <a href={`/vibecraft-web/projects/${project.id.replace(/^(consulting|development)\//, '').replace(/\.md$/, '')}`} class="project-card">
                <div class="project-header">
                  <span class="project-badge badge-dev">{subcategoryLabels[project.data.subcategory]}</span>
                  <span class="project-status" data-status={project.data.status}>
                    {project.data.status === 'completed' ? 'ì™„ë£Œ' : project.data.status === 'in-progress' ? 'ì§„í–‰ì¤‘' : 'ì˜ˆì •'}
                  </span>
                </div>
                <h3 class="project-title">{project.data.title}</h3>
                <p class="project-client">{project.data.client}</p>
                <p class="project-summary">{project.data.summary}</p>
                <div class="project-meta">
                  <span class="project-period">{project.data.period}</span>
                </div>
                {project.data.techStack && project.data.techStack.length > 0 && (
                  <div class="project-tech">
                    {project.data.techStack.slice(0, 4).map((tech) => (
                      <span class="tech-badge">{tech}</span>
                    ))}
                  </div>
                )}
                <div class="project-tags">
                  {project.data.tags.slice(0, 3).map((tag) => (
                    <span class="project-tag">{tag}</span>
                  ))}
                </div>
              </a>
            ))}
          </div>
        </div>
      </div>
    </section>

    <section class="cta-section">
      <div class="container">
        <div class="cta-content">
          <h2 class="cta-title">í”„ë¡œì íŠ¸ë¥¼ ì˜ë¢°í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?</h2>
          <p class="cta-description">ì»¨ì„¤íŒ…ë¶€í„° ê°œë°œê¹Œì§€, VibeCraftê°€ í•¨ê»˜í•©ë‹ˆë‹¤.</p>
          <a href="https://docs.google.com/forms/d/e/1FAIpQLScPYEgY-bhxM31JWZsoHIaNdFGE-Dy3HJjn41500A0O7IeeOQ/viewform" target="_blank" rel="noopener" class="btn btn-primary">ë¬¸ì˜í•˜ê¸° â†’</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-inner">
        <a href="/vibecraft-web/" class="footer-logo"><div class="logo-icon">V</div><span>VibeCraft</span></a>
        <p class="footer-copyright">Â© 2026 VibeCraft. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    const header = document.getElementById('header');
    window.addEventListener('scroll', () => {
      header?.classList.toggle('scrolled', window.pageYOffset > 50);
    });

    // í•„í„° ê¸°ëŠ¥
    const filterTabs = document.querySelectorAll('.filter-tab');
    const categorySections = document.querySelectorAll('.category-section');

    filterTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const filter = tab.getAttribute('data-filter');

        filterTabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');

        categorySections.forEach(section => {
          const category = section.getAttribute('data-category');
          if (filter === 'all' || filter === category) {
            section.style.display = 'block';
          } else {
            section.style.display = 'none';
          }
        });
      });
    });
  </script>
</body>
</html>

<style is:global>
:root{--bg-primary:#0C0A0F;--bg-secondary:rgba(25,20,30,0.6);--bg-card:rgba(30,25,35,0.7);--text-primary:#F8F7FA;--text-secondary:#B8B5C0;--text-muted:#78758A;--brand-primary:#FF6B4A;--brand-secondary:#FF8F6B;--brand-light:rgba(255,107,74,0.15);--accent-mint:#4ECDC4;--accent-mint-light:#7EDDD6;--accent-purple:#A855F7;--accent-purple-light:#C084FC;--accent-gold:#F59E0B;--border-default:#2D2A35;--border-subtle:rgba(255,255,255,0.06);--container-max:1280px;--section-padding:clamp(4rem,8vw,8rem);--radius-sm:8px;--radius-md:12px;--radius-lg:20px;--radius-xl:28px;--radius-full:9999px;--transition-fast:0.15s cubic-bezier(0.4,0,0.2,1);--transition-normal:0.25s cubic-bezier(0.4,0,0.2,1);--transition-slow:0.4s cubic-bezier(0.4,0,0.2,1)}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:"Pretendard Variable",Pretendard,-apple-system,BlinkMacSystemFont,system-ui,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6;-webkit-font-smoothing:antialiased;overflow-x:hidden}
a{color:inherit;text-decoration:none}
ul,ol{list-style:none}
.container{max-width:var(--container-max);margin:0 auto;padding:0 1.25rem}
@media(min-width:640px){.container{padding:0 1.5rem}}
.header{position:fixed;top:0;left:0;right:0;z-index:100;transition:var(--transition-slow);background:rgba(12,10,15,0.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border-subtle)}
.header.scrolled{background:rgba(12,10,15,0.95)}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:72px}
.logo{display:flex;align-items:center;gap:0.75rem;font-weight:700;font-size:1.25rem;transition:var(--transition-fast)}
.logo:hover{opacity:0.8}
.logo-icon{width:40px;height:40px;border-radius:var(--radius-md);background:linear-gradient(135deg,var(--brand-primary),var(--accent-gold));display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1.1rem;color:white}
.nav-desktop{display:none;align-items:center;gap:0.5rem}
@media(min-width:1024px){.nav-desktop{display:flex}}
.nav-link{padding:0.5rem 1rem;border-radius:var(--radius-md);font-size:0.9rem;font-weight:500;color:var(--text-secondary);transition:var(--transition-fast);cursor:pointer;background:transparent;border:none}
.nav-link:hover,.nav-link.active{color:var(--text-primary);background:rgba(255,255,255,0.05)}
.nav-link.active{color:var(--brand-primary)}
.header-actions{display:flex;align-items:center;gap:0.75rem}
.btn-contact{display:none;padding:0.625rem 1.25rem;background:linear-gradient(135deg,var(--brand-primary),var(--brand-secondary));border-radius:var(--radius-md);font-size:0.875rem;font-weight:600;color:white;transition:var(--transition-fast)}
.btn-contact:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(255,107,74,0.3)}
@media(min-width:1024px){.btn-contact{display:inline-flex;align-items:center;gap:0.5rem}}
.menu-toggle{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:var(--radius-md);background:transparent;border:1px solid var(--border-subtle);color:var(--text-primary);cursor:pointer;transition:var(--transition-fast)}
.menu-toggle:hover{background:rgba(255,255,255,0.05)}
@media(min-width:1024px){.menu-toggle{display:none}}

/* Projects Hero */
.projects-hero{padding:8rem 0 3rem;text-align:center}
.page-title{font-size:clamp(2.5rem,5vw,3.5rem);font-weight:700;margin-bottom:1rem}
.page-subtitle{font-size:1.125rem;color:var(--text-secondary)}

/* Filter Tabs */
.projects-filter{padding:1.5rem 0;border-bottom:1px solid var(--border-subtle)}
.filter-tabs{display:flex;gap:0.5rem;justify-content:center;flex-wrap:wrap}
.filter-tab{padding:0.625rem 1.5rem;border-radius:var(--radius-full);font-size:0.9rem;font-weight:500;color:var(--text-secondary);background:var(--bg-secondary);border:1px solid var(--border-subtle);cursor:pointer;transition:var(--transition-fast)}
.filter-tab:hover{color:var(--text-primary);border-color:rgba(255,255,255,0.1)}
.filter-tab.active{color:white;background:linear-gradient(135deg,var(--brand-primary),var(--brand-secondary));border-color:transparent}

/* Projects List */
.projects-list{padding:var(--section-padding) 0}
.category-section{margin-bottom:4rem}
.category-section:last-child{margin-bottom:0}
.category-title{display:flex;align-items:center;gap:0.75rem;font-size:1.5rem;font-weight:600;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--border-subtle)}
.category-icon{font-size:1.5rem}
.projects-grid{display:grid;gap:1.5rem}
@media(min-width:768px){.projects-grid{grid-template-columns:repeat(2,1fr)}}
@media(min-width:1024px){.projects-grid{grid-template-columns:repeat(3,1fr)}}

/* Project Card */
.project-card{display:flex;flex-direction:column;padding:1.5rem;background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-xl);transition:var(--transition-normal)}
.project-card:hover{transform:translateY(-4px);border-color:rgba(255,255,255,0.12);box-shadow:0 16px 32px rgba(0,0,0,0.2)}
.project-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}
.project-badge{padding:0.375rem 0.875rem;background:rgba(255,107,74,0.1);border:1px solid rgba(255,107,74,0.2);border-radius:var(--radius-full);font-size:0.75rem;font-weight:500;color:var(--brand-primary)}
.project-badge.badge-dev{background:rgba(78,205,196,0.1);border-color:rgba(78,205,196,0.2);color:var(--accent-mint)}
.project-status{font-size:0.75rem;color:var(--text-muted)}
.project-status[data-status="completed"]{color:var(--accent-mint)}
.project-status[data-status="in-progress"]{color:var(--accent-gold)}
.project-title{font-size:1.25rem;font-weight:600;margin-bottom:0.5rem}
.project-client{font-size:0.875rem;color:var(--text-muted);margin-bottom:0.75rem}
.project-summary{font-size:0.9rem;color:var(--text-secondary);margin-bottom:1rem;line-height:1.6;flex-grow:1}
.project-meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}
.project-period{font-size:0.8rem;color:var(--text-muted)}
.project-metrics{display:flex;gap:1.5rem;margin-bottom:1rem;padding:0.75rem;background:rgba(255,107,74,0.05);border-radius:var(--radius-md)}
.metric{display:flex;flex-direction:column;align-items:center}
.metric-value{font-size:1.1rem;font-weight:700;color:var(--brand-primary)}
.metric-label{font-size:0.7rem;color:var(--text-muted)}
.project-tech{display:flex;flex-wrap:wrap;gap:0.375rem;margin-bottom:1rem}
.tech-badge{padding:0.25rem 0.5rem;background:rgba(168,85,247,0.1);border-radius:var(--radius-sm);font-size:0.7rem;color:var(--accent-purple)}
.project-tags{display:flex;flex-wrap:wrap;gap:0.5rem}
.project-tag{padding:0.375rem 0.75rem;background:rgba(255,255,255,0.05);border-radius:var(--radius-sm);font-size:0.8rem;color:var(--text-muted)}

/* CTA Section */
.cta-section{padding:var(--section-padding) 0;text-align:center;background:linear-gradient(180deg,transparent,rgba(255,107,74,0.03),transparent)}
.cta-content{max-width:600px;margin:0 auto}
.cta-title{font-size:1.75rem;font-weight:700;margin-bottom:0.75rem}
.cta-description{font-size:1rem;color:var(--text-secondary);margin-bottom:1.5rem}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:0.5rem;padding:1rem 1.75rem;border-radius:var(--radius-md);font-size:1rem;font-weight:600;transition:var(--transition-fast);cursor:pointer;border:none}
.btn-primary{background:linear-gradient(135deg,var(--brand-primary),var(--brand-secondary));color:white}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 12px 32px rgba(255,107,74,0.35)}

/* Footer */
.footer{padding:2rem 0;border-top:1px solid var(--border-subtle)}
.footer-inner{display:flex;flex-direction:column;gap:1rem;align-items:center}
@media(min-width:768px){.footer-inner{flex-direction:row;justify-content:space-between}}
.footer-logo{display:flex;align-items:center;gap:0.5rem;font-weight:600;font-size:1rem}
.footer-copyright{font-size:0.85rem;color:var(--text-muted)}
</style>
