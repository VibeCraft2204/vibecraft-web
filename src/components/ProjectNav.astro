---
interface NavProject {
  slug: string;
  title: string;
}

interface Props {
  prev?: NavProject;
  next?: NavProject;
}

const { prev, next } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/?$/, '/');
---

{(prev || next) && (
  <nav class="project-nav" aria-label="프로젝트 네비게이션">
    <div class="nav-inner">
      {prev ? (
        <a href={`${base}projects/${prev.slug}/`} class="nav-link nav-prev">
          <span class="nav-label">&larr; 이전</span>
          <span class="nav-title">{prev.title}</span>
        </a>
      ) : <div />}
      {next ? (
        <a href={`${base}projects/${next.slug}/`} class="nav-link nav-next">
          <span class="nav-label">다음 &rarr;</span>
          <span class="nav-title">{next.title}</span>
        </a>
      ) : <div />}
    </div>
  </nav>
)}

<style>
  .project-nav {
    margin-top: 48px;
    padding-top: 32px;
    border-top: 1px solid var(--border);
  }

  .nav-inner {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }

  .nav-link {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 20px 24px;
    border: 1px solid var(--border);
    border-radius: 4px;
    transition: border-color var(--transition-fast), background var(--transition-fast);
  }

  .nav-link:hover {
    border-color: var(--accent);
    background: var(--card-bg);
  }

  .nav-next {
    text-align: right;
  }

  .nav-label {
    font-size: 12px;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--text-tertiary);
  }

  .nav-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text);
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  @media (max-width: 768px) {
    .nav-inner {
      grid-template-columns: 1fr;
    }

    .nav-next {
      text-align: left;
    }
  }
</style>
